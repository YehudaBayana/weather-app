(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{110:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},123:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(26),a=n.n(c),o=(n(110),n(111),n(20)),l=(n(116),n(70)),s=n(32),u=n(17),d=n(197),j=n(199),f="ADD_TO_FAVORITES",h="DELETE_FROM_FAVORITES",v="SET_CITY_NAME",m="SET_CURRENT_CITY",b="SET_AUTO_COMPLETE",p="SET_CURRENT_WEATHER",y="SET_ALL_WEATHER",O="SET_WEEKLY_WEATHER",x="SET_IS_C",C="SET_API_ERROR";function g(e){return{type:h,payload:e}}function E(e){return{type:m,payload:e}}function N(e){return{type:b,payload:e}}function k(e){return{type:x,payload:e}}function w(e){return{type:C,payload:e}}n(117);var T=function(e,t,n){Object(r.useEffect)((function(){fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=Vw78AAyCE30KZX7W8JRfAIYExiGy8ly9&q=".concat(e,"&language=en-us")).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){console.log(e)}))}),[e])},W=n(3),A=Object(o.b)((function(e){return{currentCity:e.currentCity,cityName:e.cityName,autoComplete:e.autoComplete}}),(function(e){return{setCurrentCity:function(t){return e(E(t))},setCityName:function(t){return e({type:v,payload:t})},setAutoComplete:function(t){return e(N(t))},setApiError:function(t){return e(w(t))}}}))((function(e){var t=e.setCityName,n=e.autoComplete,i=e.setAutoComplete,c=e.setCurrentCity,a=(e.setApiError,d.a.Search),o=Object(r.useRef)();return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"search-input-div margin",children:[Object(W.jsx)(j.b,{direction:"vertical",children:Object(W.jsx)(a,{placeholder:"search city",allowClear:!0,onSearch:function(e){if(t(e),!e)return i([])},style:{width:300},ref:o,size:"large",enterButton:!0})}),Object(W.jsx)("ul",{className:"result-ul",children:null===n||void 0===n?void 0:n.map((function(e){return Object(W.jsx)("li",{className:"result-li",onClick:function(){return function(e){c(e),i([])}(e)},children:e.LocalizedName},e.Key)}))})]})})})),S=n(49),_=n(200),F=(n(119),Object(o.b)((function(e){return{favorites:e.favorites,currentCity:e.currentCity,autoComplete:e.autoComplete,currentWeather:e.currentWeather,weeklyWeather:e.weeklyWeather,isC:e.isC}}),(function(e){return{addToList:function(t){return e({type:f,payload:t})},deleteFromList:function(t){return e(g(t))},setIsC:function(t){return e(k(t))}}}))((function(e){var t,n,i,c,a,o,l,s,u,d=e.addToList,j=e.deleteFromList,f=e.currentCity,h=e.listFavorites,v=e.currentWeather,m=e.isC,b=Object(r.useState)(null)[1];return Object(r.useEffect)((function(){b(null===h||void 0===h?void 0:h.find((function(e){return e.key===f.Key})))}),[f,h]),Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"main-header margin",children:[Object(W.jsx)("div",{className:"card-container",children:Object(W.jsx)("div",{className:"widget",children:Object(W.jsxs)("div",{className:"details",children:[Object(W.jsx)("div",{className:"temperature",children:m?Math.floor(null===(t=v[0])||void 0===t?void 0:t.Temperature.Metric.Value)+" "+(null===(n=v[0])||void 0===n?void 0:n.Temperature.Metric.Unit):Math.floor(null===(i=v[0])||void 0===i?void 0:i.Temperature.Imperial.Value)+" "+(null===(c=v[0])||void 0===c?void 0:c.Temperature.Imperial.Unit)}),Object(W.jsx)("div",{className:"summary",children:Object(W.jsx)("p",{className:"summaryText",children:null===f||void 0===f?void 0:f.LocalizedName})}),Object(W.jsx)("div",{className:"precipitation",children:null===(a=v[0])||void 0===a?void 0:a.WeatherText}),Object(W.jsxs)("div",{className:"wind",children:["Wind: ",null===(o=v[0])||void 0===o||null===(l=o.Wind)||void 0===l?void 0:l.Speed.Metric.Value," ",null===(s=v[0])||void 0===s||null===(u=s.Wind)||void 0===u?void 0:u.Speed.Metric.Unit]})]})})}),f.inFavorites?Object(W.jsx)(S.a,{className:"favorite-btn",style:{fontSize:"21px",marginTop:"42px",padding:"7px 30px"},type:"primary",shape:"round",icon:Object(W.jsx)(_.a,{style:{color:"red"}}),onClick:function(){return(e=f).inFavorites=!1,j(e),void b(null);var e},children:"remove from favorites"}):Object(W.jsx)(S.a,{className:"favorite-btn",style:{fontSize:"21px",marginTop:"42px",padding:"7px 30px"},type:"primary",shape:"round",icon:Object(W.jsx)(_.a,{style:{color:"white"}}),onClick:function(){return(e=f).inFavorites=!0,d(e),void b(e);var e},children:"add to favorites"})]})})}))),I=(n(120),Object(o.b)((function(e){return{weeklyWeather:e.weeklyWeather,currentCity:e.currentCity,isC:e.isC}}))((function(e){var t,n=e.weeklyWeather,r=e.isC;return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{className:"weather-of-the-week margin",style:{display:"flex",flexWrap:"wrap"},children:null===(t=n.DailyForecasts)||void 0===t?void 0:t.map((function(e,t){var n=Math.floor((e.Temperature.Minimum.Value+e.Temperature.Maximum.Value)/2);return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{className:"weather-wrapper",children:Object(W.jsxs)("div",{className:"weather-card madrid",children:[Object(W.jsx)("div",{className:"weather-icon ".concat(n>10?"sun":"cloud")}),Object(W.jsx)("h1",{children:r?n+" C":Math.floor(3.2034632*n)+" F"}),Object(W.jsx)("p",{children:new Date(e.Date).toDateString()})]})},t)})}))})})}))),R=function(e){var t=e.theme;return Object(W.jsx)("div",{children:Object(W.jsxs)("div",{className:"container",children:[Object(W.jsx)(F,{}),Object(W.jsx)("div",{className:"weather-of-the-day margin",children:Object(W.jsx)("h1",{style:"dark"===t?{color:"white"}:{color:"black"},children:"The weather for the coming days"})}),Object(W.jsx)(I,{})]})})},M=function(e){var t=e.theme;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(A,{}),Object(W.jsx)(R,{theme:t})]})},V=(n(121),Object(o.b)((function(e){return{favorites:e.favorites,allWeather:e.allWeather,isC:e.isC}}),(function(e){return{setCurrentCity:function(t){return e(E(t))},deleteFromList:function(t){return e(g(t))}}}))((function(e){var t=e.favorites,n=e.allWeather,r=e.isC,i=e.setCurrentCity;return Object(W.jsxs)(W.Fragment,{children:[t.length>0?Object(W.jsx)("h1",{children:"favorites cities"}):Object(W.jsx)("h1",{children:"no favorites cities"}),Object(W.jsx)("div",{className:"favorites-container",style:{display:"flex",flexWrap:"wrap"},children:null===t||void 0===t?void 0:t.map((function(e,t){var c,a,o,l,u,d,j,f,h;return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(s.b,{to:"/",children:Object(W.jsx)("div",{onClick:function(){i(e)},className:"favorites-card-container",children:Object(W.jsxs)("div",{className:"favorites-widget",children:[Object(W.jsxs)("div",{className:"favorites-details",children:[Object(W.jsxs)("div",{className:"favorites-temperature",children:[r?Math.floor(null===(c=n[t])||void 0===c?void 0:c.Temperature.Metric.Value)+(null===(a=n[t])||void 0===a?void 0:a.Temperature.Metric.Unit):Math.floor(null===(o=n[t])||void 0===o?void 0:o.Temperature.Imperial.Value)+(null===(l=n[t])||void 0===l?void 0:l.Temperature.Imperial.Unit),"\xb0"]}),Object(W.jsx)("div",{className:"favorites-summary",children:Object(W.jsx)("p",{className:"favorites-summaryText",children:null===e||void 0===e?void 0:e.LocalizedName})}),Object(W.jsx)("div",{className:"favorites-precipitation",children:null===(u=n[t])||void 0===u?void 0:u.WeatherText}),Object(W.jsxs)("div",{className:"favorites-wind",children:["Wind: ",null===(d=n[t])||void 0===d||null===(j=d.Wind)||void 0===j?void 0:j.Speed.Metric.Value," ",null===(f=n[t])||void 0===f||null===(h=f.Wind)||void 0===h?void 0:h.Speed.Metric.Unit]})]}),Object(W.jsx)("div",{className:"favorites-pictoBackdrop"}),Object(W.jsx)("div",{className:"favorites-pictoFrame"}),Object(W.jsx)("div",{className:"favorites-pictoCloudBig"}),Object(W.jsx)("div",{className:"favorites-pictoCloudFill"}),Object(W.jsx)("div",{className:"favorites-pictoCloudSmall"}),Object(W.jsx)("div",{className:"favorites-iconCloudBig"}),Object(W.jsx)("div",{className:"favorites-iconCloudFill"}),Object(W.jsx)("div",{className:"favorites-iconCloudSmall"})]})})},t)})}))})]})}))),L=n(196);n(123);var K=Object(o.b)((function(e){return{isC:e.isC}}),(function(e){return{setIsC:function(t){return e(k(t))}}}))((function(e){var t=e.setTheme,n=e.theme,r=e.setIsC,i=e.isC,c=function(){document.getElementById("fullNav").style.height="0%"};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{id:"fullNav",className:"overlay",children:[Object(W.jsx)("span",{className:"closebtn",onClick:function(){return c()},children:"\xd7"}),Object(W.jsxs)("div",{className:"overlay-content",children:[Object(W.jsx)("a",{href:"https://tech-career-alternative.firebaseapp.com/",target:"_blank",rel:"noreferrer",children:Object(W.jsx)("img",{src:"/frontfolio/images/tech-career-logo.png",width:"200px",alt:""})}),Object(W.jsx)(s.b,{to:"/",onClick:function(){return c()},children:"HOME"}),Object(W.jsx)(s.b,{to:"/favorites",onClick:function(){return c()},children:"FAVORITES"}),Object(W.jsx)(S.a,{onClick:function(){t((function(e){return"dark"===e?"light":"dark"})),c()},style:"dark"===n?{backgroundColor:"white",color:"black"}:{backgroundColor:"#424242",color:"white"},children:"dark"===n?"light mode":"dark mode"},"1"),Object(W.jsx)(S.a,{onClick:function(){r(!i),c()},children:i?"Fahrenheit":"Celsius"},"2")]})]}),Object(W.jsx)("span",{style:{fontSize:"30px",cursor:"pointer",color:"#1c47af"},onClick:function(){document.getElementById("fullNav").style.height="100%"},children:"\u2630"})]})})),D=Object(o.b)((function(e){return{isC:e.isC}}),(function(e){return{setIsC:function(t){return e(k(t))}}}))((function(e){var t=Object(u.g)().pathname,n=Object(r.useState)(window.innerWidth),i=Object(l.a)(n,2),c=i[0],a=i[1],o=Object(r.useState)(".")[1],d=e.isC,j=e.setIsC,f=e.theme,h=e.setTheme,v=function(){o((function(e){return"."===e?",":"."}))},m=function(){a(window.innerWidth)};return Object(r.useEffect)((function(){window.addEventListener("resize",m)}),[]),Object(r.useEffect)((function(){v()}),[t]),Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("nav",{className:"navbar margin",style:{backgroundColor:"#69c0ff"},children:Object(W.jsx)(L.a,{style:{backgroundColor:"#bae7ff"},ghost:!1,title:"Herolo",subTitle:"Weather Task",extra:c>460?[Object(W.jsx)(S.a,{onClick:function(){return h((function(e){return"dark"===e?"light":"dark"}))},style:"dark"===f?{backgroundColor:"white",color:"black"}:{backgroundColor:"#424242",color:"white"},children:"dark"===f?"light mode":"dark mode"},"1"),Object(W.jsx)(S.a,{onClick:function(){return j(!d)},children:d?"Fahrenheit":"Celsius"},"2"),Object(W.jsxs)(s.b,{to:"/favorites",children:[Object(W.jsx)(S.a,{onClick:v,type:document.location.href.indexOf("/favorites")>-1?"primary":"",children:"favorites"},"3")," "]}),Object(W.jsx)(s.b,{to:"/",children:Object(W.jsx)(S.a,{onClick:v,type:-1===document.location.href.indexOf("/favorites")?"primary":"",children:"home"},"4")})]:[Object(W.jsx)(K,{setTheme:h,theme:f})]})})})})),U=function(){var e=Object(u.g)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},z=function(){var e=Object(r.useState)("light"),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(W.jsxs)(s.a,{children:[Object(W.jsx)(U,{}),Object(W.jsxs)("div",{className:"App",style:"dark"===n?{backgroundColor:"gray"}:null,children:[Object(W.jsx)(D,{theme:n,setTheme:i}),Object(W.jsxs)(u.d,{children:[Object(W.jsx)(u.b,{path:"/",exact:!0,children:Object(W.jsx)(M,{theme:n})}),Object(W.jsx)(u.b,{path:"/favorites",children:Object(W.jsx)(V,{})}),Object(W.jsx)(u.a,{to:"/"})]})]})]})},X=function(e,t,n,i){Object(r.useEffect)((function(){e&&fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?apikey=Vw78AAyCE30KZX7W8JRfAIYExiGy8ly9&language=en-us&details=true")).then((function(e){return e.json()})).then((function(e){t(e),n(e)})).catch((function(){return i(!0)}))}),[e])},B=function(e,t,n){Object(r.useEffect)((function(){e&&fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=Vw78AAyCE30KZX7W8JRfAIYExiGy8ly9&language=en-us&details=true&metric=true")).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(){return n(!0)}))}),[e,t])},Y=Object(o.b)((function(e){return{currentCity:e.currentCity,cityName:e.cityName}}),(function(e){return{setCurrentCity:function(t){return e(E(t))},setAutoComplete:function(t){return e(N(t))},setCurrentWeather:function(t){return e({type:p,payload:t})},setAllWeather:function(t){return e({type:y,payload:t})},setWeeklyWeather:function(t){return e({type:O,payload:t})},setApiError:function(t){return e(w(t))}}}))((function(e){var t=e.currentCity,n=e.cityName,i=e.setAutoComplete,c=e.setCurrentWeather,a=e.setAllWeather,o=e.setWeeklyWeather,l=e.setCurrentCity,s=e.setApiError;return T(n,i,s),X(null===t||void 0===t?void 0:t.Key,c,a,s),B(null===t||void 0===t?void 0:t.Key,o,s),Object(r.useEffect)((function(){!function(e,t){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(n){var r=n.coords.latitude,i=n.coords.longitude;fetch("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=Vw78AAyCE30KZX7W8JRfAIYExiGy8ly9&q=".concat(r,"%2C").concat(i,"&language=en-us&details=true&toplevel=false")).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(){return t(!0)}))}),(function(){e({Version:1,Key:"215854",Type:"City",Rank:31,LocalizedName:"Tel Aviv"})}))}(l,s)}),[]),null}));n(192);var J=Object(o.b)((function(e){return{apiError:e.apiError}}))((function(e){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Y,{}),Object(W.jsx)(z,{})]})})),H=n(53),G=n(54),Z=[];var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n=e.find((function(e){return e.Key===t.payload.Key}));return n?e:[].concat(Object(G.a)(e),[t.payload]);case h:var r=e.findIndex((function(e){return e.Key===t.payload.Key}));return e.splice(r,1),e;default:return e}},q="current city";var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return t.type===m?t.payload:e},$=[];var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;return t.type===b?t.payload:e},te={};var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;return t.type===p?t.payload:e},re=[];var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return t.type===O?t.payload:e},ce=[];var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;return t.type===y?[].concat(Object(G.a)(e),Object(G.a)(t.payload)):e},oe=!0;var le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;return t.type===x?t.payload:e};var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===v?t.payload:e},ue=!1;var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;return t.type===C?t.payload:e},je={favorites:Z,cityName:"",currentCity:q,autoComplete:$,currentWeather:te,allWeather:ce,weeklyWeather:re,isC:oe,apiError:ue},fe=Object(H.a)({favorites:P,cityName:se,currentCity:Q,autoComplete:ee,currentWeather:ne,allWeather:ae,weeklyWeather:ie,isC:le,apiError:de}),he=Object(H.b)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ve=Object(H.c)(fe,je,he);a.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(o.a,{store:ve,children:Object(W.jsx)(J,{})})}),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.d9d5513c.chunk.js.map